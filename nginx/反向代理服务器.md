[TOC]



# nginx作为http反向代理服务器

nginx可以作为反向代理服务器服务器使用。这个功能需要添加[ngx_http_proxy_module](http://nginx.org/en/docs/http/ngx_http_proxy_module.html)模块。



## 配置文件

通过添加proxy_pass配置来指定代理的服务器，还可以设置一些其他的配置

```
location / {
    proxy_pass       http://localhost:8000;
    proxy_set_header Host      $host;
    proxy_set_header X-Real-IP $remote_addr;
}
```



## 上下文中的指令介绍

反向代理中的配置上下文都可以是http、server、location，但是一般情况下我们在location上下文中对反向代理进行配置。

- **proxy_pass** —— 设置代理服务器的协议类型和服务器地址，可以添加可选的URI。

  协议可以指定http或者https。服务器地址可以指定域名或者IP地址，可以包含端口；或者类UNIX系统的socket路径：

  ```
  proxy_pass http://localhost:8000/uri/;
  
  proxy_pass http://unix:/tmp/backend.socket:/uri/;
  ```

  如果一个域名可以被解析为多个服务地址，所有的服务器会被轮询使用。

  





## 拓展

[URI和URL(转载)](http://www.cnblogs.com/gaojing/archive/2012/02/04/2413626.html)